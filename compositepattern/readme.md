#结构型设计模式--组合模式

模式简介
    
        对于树形结构，当容器对象(如文件夹)的某一个方法被调用时，需要遍历整个树，牵一动百。且对于容器对象和叶子对象的的
    处理使用时需要在代码中有区别的对待(大量if...else...)。组合模式是为了解决这个问题，让叶子和容器对象具有一致性，在外
    部调用时不必过分的关心调用的是叶子还是容器
       
设计理念
    
        组合多个对象形成树形结构，以表示具有“整体--部分”关系的层次结构。组合模式对单个的对象(叶子)和组合对象(容器)的使用
    具有一致性。组合模式又称为“整体--部分”模式(part-whole)，是一种对象结构型设计模式。

相关角色
     
     1、抽象构件(Component)：可以使接口或抽象类，为组合对象和叶子对象声明接口，该角色可以包含组合对象和单个对象的所有
     共有行为的声明和实现。在抽象构件中定义了访问及管理它的子构件的方法。
     
     2、叶子构件(Leaf):在组合结构中表示叶子节点，没有子节点。实现了抽象构件中所声明的行为。对于访问容器节点的方法可以返
     回异常或提示.
     
     3、容器构件(Composite):在组合结构中表示容器节点，包含子节点，子节点可以是容器节点也可以是叶子结点。实现了抽象构件中
     所声明的行为。提供一个集合用来存储子节点。可以递归调用子节点的业务方法。

优劣分析
    
    优点
        1、组合模式可以清楚的定义分层次的复杂的对象，表示对象的全部或部分层次，让客户端忽略层次的差异，方便对整个层次结
        构进行控制。
        
        2、客户端可以一致的使用一个组合结构或其中单个对象，而不必关心处理的是单个对象还是整个组合结构，简化了客户端代码。
        
        3、组合模式中新增组合结构或单个对象都很方便，无需修改现有代码。符合“开闭原则”。
        
        4、为树形结构在面向对象的语言中提供了一种灵活的解决方案，通过叶子对象和容器对象的组合，可以使得复杂的树形结构更
        简单的控制和管理。
       
    缺点
       1、增加新的构件时，很难对构件类型进行控制。有时候我们希望一个容器中只能有某些 特定类型的对象，例如在某个文件夹中
       只能包含文本文件，使用组合模式时，不能依赖类型系统来施加这些约束，因为它们都来自于相同的抽象层，在这种情况下，必
       须通过在运行时进行类型检查来实现，这个实现过程较为复杂。 

适用场景

    1、在具有整体和部分的层次结构中，希望通过一种方式忽略整体与部分的差异，客户端可以一致地对待它们。
    
    2、在一个使用面向对象语言开发的系统中需要处理一个树形结构。
    
    3、在一个系统中能够分离出叶子对象和容器对象，而且它们的类型不固定，需要增加一些新的类型

demo介绍
        
     1、Sunny软件公司欲开发一个界面控件库，界面控件分为两大类，一类是单元控件，例如按钮、文本框等，一类是容器控件,例如
     窗体、中间面板等，试用组合模式设计该界面控件库。(uilibary)
     
     2、在Sunny软件公司的内部办公系统Sunny OA系统中，有一个与公司组织结构对应的树形菜单，行政人员可以给各级单位下发通知，
     这些单位可以是总公司的一个部门，也可以是一个分公司，还可以是分公司的一个部门。用户只需要选择一个根节点即可实现通知
     的下发操作，而无须关心具体的实现细节。(companyoa)
