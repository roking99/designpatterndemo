##行为型设计模式--职责链模式

模式简介
        
         职责链模式：避免请求的发送者和接收者耦合在一起，让多个对象都有可能接收到请求，将这些接收请求的对象链接在一起，
     形成一个链，让请求沿着这个链进行传递，知道有对象处理该请求。职责链模式是一种对象行为模式。
    
设计理念
      
        职责链可以是一条线、一个环或一个树形结构。链上的每一个对象都是一个请求处理者，职责链模式将这些请求处理者组织成一
    条链，让请求沿着链传递，并由链上的相应处理者进行处理。客户端无需知道请求处理的细节，只需要将请求发送给链上即可。以此
    实现请求的发送者和处理者的解耦。
        
相关角色
    
        1、抽象处理者：定义了一个处理请求的接口，一般设计为一个抽象类，由于不同的处理者具体处理请求的方式不同，因此需要
    定义抽象处理请求的方法。因为每一个处理者的下一个节点还是一个处理者，因此需要维护一个抽象处理者类型的对象，作为当前处
    理者对下家的引用。通过该引用形成一个链。
    
        2、具体处理者：是抽象处理者的子类，实现了抽象处理者定义的抽象处理请求的方法，处理请求之前需要进行相应的逻辑判断，
    判断是否当前具体处理者要处理的请求。若是则处理，否则将请求通过引用的抽象对象转发给他的下一个处理者。
      
纯职责链和非纯职责链简介

    纯职责链是指：一个具体处理者要么完整的处理请求，要么将请求转发给他的后继者。不允许部分处理请求，也不能出现请求未被任
    何处理对象处理。
    
    非纯职责链：允许一个具体处理者部分处理请求后向下传递，或者一个具体处理者处理完请求后，他的后继者可以继续处理该请求，
    而且一个请求可以不被任何具体处理者处理。
    

优劣分析
    
    优点
    
        1：实现了请求的发送者和处理者的解耦，请求发送者无需关系请求的处理细节。接收者也不需要关系请求是由哪个发送者进行
        发送的。
        
        2：简化了对象的相互连接：具体处理者也不需要关系链的结构，只需要维护一个指向其自身的下一个节点对象即可。
        
        3：灵活性较好：给对象分配职责时，可以通过对职责链进行动态的增加或修改来灵活的改变一个对象处理请求的职责。
        
        4：符合“开闭原则”，在增加新的请求处理者无需修改源码，只需要客户端重新建链即可。
       
    缺点
    
        1、请求没有明确接收者，可能存在请求得不到处理或者得到不正确处理的情况。
        
        2、较长的职责链，由于存在多个处理对象，系统性能会受到影响，代码调试时的困难度也会增加。
        
        3、如果客户端建链不当，有可能死循环。
        
适用场景

    1、 有多个对象可以处理同一个请求，具体哪个对象处理该请求待运行时刻再确定，客户端只需将请求提交到链上，而无须关心请求
    的处理对象是谁以及它是如何处理的。
    
    2、 在不明确指定接收者的情况下，向多个对象中的一个提交一个请求。
        
    3、 可动态指定一组对象处理请求，客户端可以动态创建职责链来处理请求，还可以改变链中处理者之间的先后次序。
    
demo介绍

    Sunny软件公司的OA系统需要提供一个假条审批模块：如果员工请假天数小于3天，主任可以审批该假条；如果员工请假天数大于等于
    3天，小于10天，经理可以审批；如果员工请假天数大于等于10天，小于30天，总经理可以审批；如果超过30天，总经理也不能审批，
    提示相应的拒绝信息。试用职责链模式设计该假条审批模块。
    
结构图
![](/chainofresponsibiltydemo/src/main/static/structure.jpg)